(function(){"use strict";var t={3832:function(t,o,n){var e=n(9242),i=n(3396);const r={class:"wrapper"};function s(t,o,n,s,l,c){const p=(0,i.up)("CustomSelect"),u=(0,i.up)("ErrorNotify");return(0,i.wg)(),(0,i.iD)("div",r,[(0,i.Wm)(p,{label:"Custom Select",options:t.allOptions},null,8,["options"]),(0,i.Wm)(e.uT,{name:"slideInOut"},{default:(0,i.w5)((()=>[t.errorNotifyFlag?((0,i.wg)(),(0,i.j4)(u,{key:0})):(0,i.kq)("",!0)])),_:1})])}var l=n(65),c=n(7139),p=n.p+"img/delete-icon.38d0990e.svg";const u=t=>((0,i.dD)("data-v-1c20dee8"),t=t(),(0,i.Cn)(),t),a={class:"chosen"},d={key:0,class:"chosen__option"},h=(0,i.Uk)(" Chosen: "),f={key:1,class:"chosen__option"},w={class:"select"},y={class:"select__form"},O=["placeholder"],_=u((()=>(0,i._)("img",{src:p,alt:"Clean input field"},null,-1))),v=[_],m={key:0,class:"select__options"},C=["onClick"],g={key:1,class:"select__not-found"};function N(t,o,n,r,s,l){return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("h1",null,(0,c.zw)(n.label),1),(0,i._)("div",a,[s.optionIsChosen?((0,i.wg)(),(0,i.iD)("div",d,[h,(0,i._)("span",null,(0,c.zw)(s.currentOptionTitle),1)])):((0,i.wg)(),(0,i.iD)("div",f,"Item hasn't chosen"))]),(0,i._)("div",w,[(0,i._)("div",y,[(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":o[0]||(o[0]=t=>s.currentOptionTitle=t),class:"select__input",type:"text",autocomplete:"off",placeholder:n.placeholder,onInput:o[1]||(o[1]=(...t)=>l.filterOptions&&l.filterOptions(...t)),onFocus:o[2]||(o[2]=(...t)=>l.onFocus&&l.onFocus(...t)),onKeydown:[o[3]||(o[3]=(0,e.D2)(((...t)=>l.onArrowDown&&l.onArrowDown(...t)),["down"])),o[4]||(o[4]=(0,e.D2)(((...t)=>l.onArrowUp&&l.onArrowUp(...t)),["up"])),o[5]||(o[5]=(0,e.D2)(((...t)=>l.onEnter&&l.onEnter(...t)),["enter"]))]},null,40,O),[[e.nr,s.currentOptionTitle]]),s.currentOptionTitle?((0,i.wg)(),(0,i.iD)("button",{key:0,class:"select__reset",onClick:o[6]||(o[6]=(...t)=>l.onReset&&l.onReset(...t))},v)):(0,i.kq)("",!0)]),s.filteredOptions&&s.isDropdownShown?((0,i.wg)(),(0,i.iD)("ul",m,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.filteredOptions,((t,o)=>((0,i.wg)(),(0,i.iD)("li",{key:t.id,class:(0,c.C_)([{"is-active":o===s.optionCounter},"select__option"]),onClick:o=>l.setOption(t.title)},(0,c.zw)(t.title),11,C)))),128))])):(0,i.kq)("",!0),s.optionNotFound?((0,i.wg)(),(0,i.iD)("div",g,"No data available")):(0,i.kq)("",!0)])],64)}var D={name:"CustomSelect",props:{placeholder:{type:String,default:"And let option will be chosen.."},label:{type:String,default:""},options:{type:Array,required:!0,default:()=>[]}},data(){return{currentOptionTitle:"",filteredOptions:[],isDropdownShown:!1,optionNotFound:!1,optionIsChosen:!1,optionCounter:-1}},computed:{...(0,l.Se)(["allOptions"])},mounted(){document.body.addEventListener("click",(t=>{const o=document.querySelector(".select__input");t.target!=o&&this.hideOptions()}))},unmounted(){document.body.removeEventListener("click",(function(){}))},methods:{onFocus(){this.isDropdownShown=!0,this.filterOptions()},filterOptions(){this.filteredOptions=this.allOptions.filter((t=>t.title.toLowerCase().includes(this.currentOptionTitle.toLowerCase()))),0===this.filteredOptions.length?this.optionNotFound=!0:this.optionNotFound=!1,this.optionNotFound?this.isDropdownShown=!1:this.isDropdownShown=!0,this.optionCounter=-1},setOption(t){this.currentOptionTitle=t,this.filterOptions(),this.isDropdownShown=!1,this.optionIsChosen=!0},hideOptions(){this.isDropdownShown=!1},onReset(){this.currentOptionTitle&&(this.currentOptionTitle="",this.optionIsChosen=!1,this.filterOptions())},onArrowDown(){this.optionCounter<this.filteredOptions.length&&this.optionCounter!==this.filteredOptions.length-1&&(this.optionCounter=this.optionCounter+1)},onArrowUp(){this.optionCounter>0&&(this.optionCounter=this.optionCounter-1)},onEnter(){if(this.optionIsChosen)return;const t=+this.optionCounter;this.currentOptionTitle=this.filteredOptions[t].title,this.optionCounter=-1,this.isDropdownShown=!1,this.optionIsChosen=!0}}},b=n(89);const k=(0,b.Z)(D,[["render",N],["__scopeId","data-v-1c20dee8"]]);var E=k;const S=t=>((0,i.dD)("data-v-e98de3da"),t=t(),(0,i.Cn)(),t),I={class:"notify"},T=S((()=>(0,i._)("div",{class:"notify__title"},[(0,i._)("span",{class:"notify__title-text"},"Error")],-1))),F=S((()=>(0,i._)("div",{class:"notify__text"},"An error has occured",-1))),A={class:"notify__close"};function j(t,o,n,e,r,s){return(0,i.wg)(),(0,i.iD)("aside",I,[T,F,(0,i._)("div",A,[(0,i._)("button",{class:"notify__close-btn",onClick:o[0]||(o[0]=(...t)=>s.closeNotify&&s.closeNotify(...t))},"Close")])])}var x={name:"ErrorNotify",methods:{...(0,l.OI)(["hideErrorNotify"]),closeNotify(){this.hideErrorNotify()}}};const q=(0,b.Z)(x,[["render",j],["__scopeId","data-v-e98de3da"]]);var U=q,L={name:"App",components:{CustomSelect:E,ErrorNotify:U},computed:{...(0,l.Se)(["allOptions","errorNotifyFlag"])},created(){this.fetchOptions()},methods:{...(0,l.nv)(["fetchOptions"]),...(0,l.OI)(["hideErrorNotify"]),hideNotify(){this.hideErrorNotify()}}};const R=(0,b.Z)(L,[["render",s],["__scopeId","data-v-2c9d9a80"]]);var z=R,Z=n(6265),H=n.n(Z);const K=H().create({baseURL:"https://jsonplaceholder.typicode.com/"});var M=K,P={state:{options:[],showErrorNotify:!1},mutations:{updateOptions(t,o){t.options=o},showErrorNotify(t){t.showErrorNotify=!0},hideErrorNotify(t){t.showErrorNotify=!1}},actions:{async fetchOptions({commit:t}){try{const{data:o}=await M.get("/todos");t("updateOptions",o)}catch(o){t("showErrorNotify")}}},getters:{allOptions(t){return t.options},errorNotifyFlag(t){return t.showErrorNotify}}},W=(0,l.MT)({modules:{options:P}});(0,e.ri)(z).use(W).mount("#app")}},o={};function n(e){var i=o[e];if(void 0!==i)return i.exports;var r=o[e]={exports:{}};return t[e](r,r.exports,n),r.exports}n.m=t,function(){var t=[];n.O=function(o,e,i,r){if(!e){var s=1/0;for(u=0;u<t.length;u++){e=t[u][0],i=t[u][1],r=t[u][2];for(var l=!0,c=0;c<e.length;c++)(!1&r||s>=r)&&Object.keys(n.O).every((function(t){return n.O[t](e[c])}))?e.splice(c--,1):(l=!1,r<s&&(s=r));if(l){t.splice(u--,1);var p=i();void 0!==p&&(o=p)}}return o}r=r||0;for(var u=t.length;u>0&&t[u-1][2]>r;u--)t[u]=t[u-1];t[u]=[e,i,r]}}(),function(){n.n=function(t){var o=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(o,{a:o}),o}}(),function(){n.d=function(t,o){for(var e in o)n.o(o,e)&&!n.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:o[e]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)}}(),function(){n.p="/"}(),function(){var t={143:0};n.O.j=function(o){return 0===t[o]};var o=function(o,e){var i,r,s=e[0],l=e[1],c=e[2],p=0;if(s.some((function(o){return 0!==t[o]}))){for(i in l)n.o(l,i)&&(n.m[i]=l[i]);if(c)var u=c(n)}for(o&&o(e);p<s.length;p++)r=s[p],n.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return n.O(u)},e=self["webpackChunktest_assignment"]=self["webpackChunktest_assignment"]||[];e.forEach(o.bind(null,0)),e.push=o.bind(null,e.push.bind(e))}();var e=n.O(void 0,[998],(function(){return n(3832)}));e=n.O(e)})();
//# sourceMappingURL=app.6b78670e.js.map